<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mask Detection</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet" />
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/style.css') }}"
    />
  </head>
  <body class="bg-white text-gray-800">
    <!-- HERO SECTION -->
    <section class="relative overflow-hidden text-white">
      <img
        src="{{ url_for('static', filename='img/bghero.svg') }}"
        alt="Background Hero"
        class="absolute inset-0 w-full h-full object-cover z-0"
      />

      <div
        class="relative z-10 px-6 py-20 max-w-6xl mx-auto flex flex-col md:flex-row items-center gap-10"
      >
        <div class="md:w-3/5 text-center md:text-left" data-aos="fade-up">
          <h1 class="text-4xl md:text-5xl font-bold mb-6">Mask Detection</h1>
          <p class="text-base md:text-lg leading-relaxed">
            Website deteksi masker ini bekerja dengan cara mengakses kamera
            perangkat pengguna untuk memindai wajah secara langsung dan
            menentukan status penggunaan masker. Saat pertama kali halaman
            dibuka, pengguna akan diminta memberikan izin akses kamera. Setelah
            itu, wajah pengguna akan ditampilkan melalui feed kamera real-time
            di halaman web.
          </p>
        </div>
        <div
          class="md:w-2/5 flex justify-center md:justify-end"
          data-aos="fade-left"
        >
          <img
            src="{{ url_for('static', filename='img/dokter.png') }}"
            alt="Dokter"
            class="w-full max-w-xs md:max-w-sm h-auto"
          />
        </div>
      </div>
    </section>

    <!-- STATUS SECTION -->
    <section class="text-center py-16 px-4">
      <h2 class="text-3xl font-bold mb-4">Mask Detection</h2>
      <p class="mb-10 text-gray-600">
        Hasil deteksi akan muncul dalam bentuk teks
      </p>
      <div class="flex flex-wrap justify-center gap-6">
        <!-- With Mask -->
        <div
          class="w-60 bg-[#05465D] text-white rounded-lg shadow-md p-4"
          data-aos="fade-up"
          data-aos-duration="1000"
        >
          <img
            src="{{ url_for('static', filename='img/masker-benar.png') }}"
            alt="With Mask"
            class="w-full mb-2"
          />
          <p class="font-semibold">With Mask</p>
        </div>
        <!-- Without Mask -->
        <div
          class="w-60 bg-[#05465D] text-white rounded-lg shadow-md p-4"
          data-aos="fade-up"
          data-aos-duration="2000"
        >
          <img
            src="{{ url_for('static', filename='img/tidak-masker.png') }}"
            alt="Without Mask"
            class="w-full mb-2"
          />
          <p class="font-semibold">Without Mask</p>
        </div>
        <!-- Incorrect Mask -->
        <div
          class="w-60 bg-[#05465D] text-white rounded-lg shadow-md p-4"
          data-aos="fade-up"
          data-aos-duration="3000"
        >
          <img
            src="{{ url_for('static', filename='img/masker-tidak-tepat.png') }}"
            alt="Incorrect Mask"
            class="w-full mb-2"
          />
          <p class="font-semibold">Mask Weared Incorrectly</p>
        </div>
      </div>
    </section>

    <!-- CAMERA DETECTION -->
    <section class="text-center py-16 px-4">
      <h2 class="text-3xl font-bold mb-4">Detection</h2>
      <p class="mb-6 text-gray-600">
        Pastikan wajah Anda terlihat jelas untuk deteksi masker yang akurat.
      </p>

      <div class="flex justify-center">
        <div
          id="camera-frame"
          class="relative bg-[#05465D] rounded-lg shadow-lg p-4 w-full max-w-lg overflow-hidden"
        >
          <!-- Fullscreen Button -->
          <button
            onclick="toggleFullscreen('camera-frame')"
            class="absolute top-2 right-2 bg-white bg-opacity-20 hover:bg-opacity-40 text-white p-2 rounded-full z-50"
            title="Layar Penuh"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="w-5 h-5"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M8 3H5a2 2 0 00-2 2v3m0 8v3a2 2 0 002 2h3m8-18h3a2 2 0 012 2v3m0 8v3a2 2 0 01-2 2h-3"
              />
            </svg>
          </button>

          <!-- Video Feed -->
          <img
            src="{{ url_for('video') }}"
            class="w-full h-64 object-cover rounded-md border border-[#05465D] mb-5"
          />

          <!-- Toggle Camera -->
          <div class="flex justify-center">
            <label class="inline-flex items-center cursor-pointer">
              <input
                type="checkbox"
                id="toggle-camera"
                onchange="toggleCamera()"
                class="sr-only"
              />
              <div
                id="toggle-switch"
                class="w-16 h-8 bg-white bg-opacity-20 rounded-full flex items-center px-1 transition duration-300"
              >
                <div
                  class="w-6 h-6 bg-white rounded-full shadow-md transform transition duration-300"
                ></div>
              </div>
            </label>
          </div>
        </div>
      </div>
    </section>

    <!-- FOOTER -->
    <footer class="relative text-white">
      <img
        src="{{ url_for('static', filename='img/footer.svg') }}"
        alt="Footer Background"
        class="absolute inset-0 w-full h-full object-cover z-0"
      />
      <div class="relative z-10 py-10 px-6 max-w-6xl mx-auto">
        <h2 class="text-lg font-semibold mb-2">Mask Detection</h2>
        <div class="text-sm space-y-2">
          <p class="flex items-start gap-2">
            <img
              src="{{ url_for('static', filename='img/location.svg') }}"
              alt="Location"
              class="w-4 h-4 mt-1"
            />
            Vokasi IPB, Jl. Kumbang No. 14, Cilibende, Kota Bogor, Jawa Barat,
            Indonesia
          </p>
          <p class="flex items-center gap-2">
            <img
              src="{{ url_for('static', filename='img/phone.svg') }}"
              alt="Phone"
              class="w-4 h-4"
            />
            Kelompok 16
          </p>
        </div>
        <hr class="my-4 border-gray-300" />
        <p class="text-sm flex items-center gap-2">
          <img
            src="{{ url_for('static', filename='img/copyright.svg') }}"
            alt="Copyright"
            class="w-4 h-4"
          />
          Visualisasi Komputer Cerdas - Kelompok 16
        </p>
      </div>
    </footer>

    <!-- SCRIPTS -->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script src="{{ url_for('static', filename='js/fullscreen.js') }}"></script>
    <script src="{{ url_for('static', filename='js/camera.js') }}"></script>
    <script>
      AOS.init();
    </script>
  </body>
</html>
